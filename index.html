<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Notes App</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background-color: #f4f6f8;
    }
  </style>
</head>
<body>

<div class="container mt-4">
  <h2 class="text-center mb-4">ðŸ“˜ Student Notes App</h2>

  <!-- Add / Edit Note -->
  <div class="card p-3 mb-4">
    <input id="title" class="form-control mb-2" placeholder="Note Title">
    <textarea id="content" class="form-control mb-2" placeholder="Note Content"></textarea>
    <input id="category" class="form-control mb-2" placeholder="Category">
    <button class="btn btn-primary" onclick="saveNote()">Save Note</button>
  </div>

  <!-- Saved Notes Section -->
  <h4>Saved Notes</h4>
  <div id="notesList"></div>
</div>

<script>
  // 1ï¸âƒ£ Load notes from localStorage
  let notes = JSON.parse(localStorage.getItem("notes")) || [];
  let editId = null;

  // 2ï¸âƒ£ Save or Update Note
  function saveNote() {
    const title = document.getElementById("title").value.trim();
    const content = document.getElementById("content").value.trim();
    const category = document.getElementById("category").value.trim();

    if (!title || !content) return;

    if (editId !== null) {
      notes = notes.map(note =>
        note.id === editId ? { ...note, title, content, category } : note
      );
      editId = null;
    } else {
      notes.push({
        id: Date.now(),
        title,
        content,
        category,
        date: new Date().toLocaleString()
      });
    }

    localStorage.setItem("notes", JSON.stringify(notes));
    clearInputs();
    displayNotes();
  }

  // 3ï¸âƒ£ Display saved notes
  function displayNotes() {
    const notesList = document.getElementById("notesList");
    notesList.innerHTML = "";

    notes.forEach(note => {
      notesList.innerHTML += `
        <div class="card mb-3">
          <div class="card-body">
            <h5>${note.title}</h5>
            <small class="text-muted">${note.category || "No Category"} â€¢ ${note.date}</small>
            <p>${note.content}</p>
            <button class="btn btn-sm btn-warning me-2" onclick="editNote(${note.id})">Edit</button>
            <button class="btn btn-sm btn-danger" onclick="deleteNote(${note.id})">Delete</button>
          </div>
        </div>
      `;
    });
  }

  // 4ï¸âƒ£ Edit Note
  function editNote(id) {
    const note = notes.find(n => n.id === id);
    document.getElementById("title").value = note.title;
    document.getElementById("content").value = note.content;
    document.getElementById("category").value = note.category;
    editId = id;
  }

  // 5ï¸âƒ£ Delete Note
  function deleteNote(id) {
    notes = notes.filter(note => note.id !== id);
    localStorage.setItem("notes", JSON.stringify(notes));
    displayNotes();
  }

  function clearInputs() {
    document.getElementById("title").value = "";
    document.getElementById("content").value = "";
    document.getElementById("category").value = "";
  }

  // ðŸ”¥ Display saved notes ON PAGE LOAD
  displayNotes();
</script>

</body>
</html>
